.data	
array:	.byte
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,	
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,
3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0	

stone1_color:	.byte 2
stone1_length:	.byte 12

.text

main:
	# -------------
	# Let's do this
	# -------------
	
	# set up the random number generator
	#li	$v0, 30		# get time in milliseconds (as a 64-bit value)
	#syscall

	#move	$t0, $a0	# save the lower 32-bits of time

	# seed the random generator (just once)
	#li	$a0, 1		# random generator id (will be used later)
	#move 	$a1, $t0	# seed from time
	#li	$v0, 40		# seed random number generator syscall
	#syscall

	#li	$a0, 1		# as said, this id is the same as random generator id
	#li	$a1, 10		# upper bound of the range
	#li	$v0, 42		# load the instruction for get ranndom number
	#syscall			# get the random number

	# $a0 now holds the random number
	#sb	$a0, 0($s0)	# store the velocity
	
	li 	$s0, 31			# Store the initial x position of the frog
	li	$s1, 56			# Store the initial y position of the frog

	# Generate the initial playing field
	jal	draw_field
	
game_loop:	 
	li	$a0, 200
	li	$v0, 32
	syscall				# Pause for 200 miliseconds
	
	jal	_getKeyPress
	
	move	$s2, $v0
	li	$t0, 0x42
	beq	$s2, $t0, exit		# if the user pressed the center button,
					# exit
	
	# perform all game operations (generate stones, move stones, etc)
	li	$a0, 50
	la	$a1, stone1_length
	la	$a2, stone1_color
	jal	move_stone_right
	
	
	beqz	$s2, game_loop		# if the user entered nothing, continue
					# with the game 
	
input_move_left:
	li	$t0, 0xE2
	bne	$s2, $t0, input_move_right
					# proceed only if the user pressed the
					# 'move left' button
	
	addi	$s0, $s0, -2		# Adjust the top corner of the frog
	jal	move_frog
	
	j	game_loop
	
input_move_right:
	li	$t0, 0xE3
	bne	$s2, $t0 input_move_up	# proceed only if the user pressed the
					# 'move right' button
	addi	$s0, $s0, 2		# Move the top corner of the frog
	jal	move_frog
	
	j	game_loop

input_move_up:
	li	$t0, 0xE0
	bne	$s2, $t0 input_move_down# proceed only if the user pressed the
					# 'move up' button

	addi	$s1, $s1, -2
	jal	move_frog
	
	j	game_loop
	
input_move_down:
	# proceed only if the user pressed the 'move down' button. At this point,
	# down is the only non-checked value, so it must be down.
	addi	$s1, $s1, 2		# move the top right corner of the frog
	jal	move_frog
	
	j	game_loop
	
exit:	li	$v0, 10
	syscall

#------------------------------------------------------------------------------               
# void move_stone_right(int row, int address_of_stone_length, int address_of_color)
#   move a stone with length 'length' to the right one pixel
#	$a0 = row, $a1 = row length, $a2 = address of color to introduce into the playing field
#
#  Register usages:
#    $s2 = row length
#    $s3 = address of the new color value. Gets updated at the end to be 1 (lava).
#
# arguments: $a0 the row to move, $a1 the color to add
# trashes: $t0, $s2, $s3
# returns: none
#------------------------------------------------------------------------------
move_stone_right:
	
	# --------
	# Prologue
	# --------
	addi	$sp, $sp -16
	sw	$ra, 0($sp)
	sw	$s2, 4($sp)
	sw	$s3, 8($sp)
	sw	$s4, 12($sp)
	
	lb	$s2, 0($a1)	# $s2 = stone_length
	addi	$t0, $s2, -1
	sb	$t0, 0($a1)
	
	lb	$s3, 0($a2)	# load the value of the new color as a constant argument for the movement of
				# the stone
	move	$s4, $a0
				
	beq	$t0, $0, change_color

#move_stone_right_loop:	# when every pixel i nthe stone's length has been shifted over once, we branch
#	beqz	$s2, move_stone_right_end
	
	addi	$a0, $s4, 0	# load the initial row number
	move	$a1, $s3	# load the color into $a1
	jal	move_right	# move row $a0 over 1 and use $a1 as the new color
	
	addi	$s4, $s4, 1	# increase the row number by 1
	move	$a0, $s4	# load the row number + 1 into $a1
	move	$a1, $s3	# load the color into $a1
	jal	move_right	# move row $a0 + 1 over 1 and use $a1 as the new color

	addi	$s4, $s4, 1	# increase the row number by 1
	move	$a0, $s4	# load the row number + 1 into $a1
	move	$a1, $s3	# load the color into $a1
	jal	move_right	# move row $a0 + 2 over 1 and use $a1 as the new color
	
	addi	$s4, $s4, 1	# increase the row number by 1
	move	$a0, $s4	# load the row number + 1 into $a1
	move	$a1, $s3	# load the color into $a1
	jal	move_right	# move row $a0 + 3 over 1 and use $a1 as the new color
	
	addi	$s4, $s4, 1	# increase the row number by 1
	move	$a0, $s4	# load the row number + 1 into $a1
	move	$a1, $s3	# load the color into $a1
	jal	move_right	# move row $a0 + 4 over 1 and use $a1 as the new color
	
	addi	$s4, $s4, 1	# increase the row number by 1
	move	$a0, $s4	# load the row number + 1 into $a1
	move	$a1, $s3	# load the color into $a1
	jal	move_right	# move row $a0 + 5 over 1 and use $a1 as the new color
	
	
	addi	$s2, $s2, -1	# decrease the length remaining of the rock
				# when this values reaches 0, all rows of the rock will be completly 
				# shifted over by 1 pixel

	#j	move_stone_right_loop
	j	move_stone_right_end
	

	# the rock has been fully introduced onto the screen, set the new color value to be 1 for lava
	# consequentially in further movements, the lava will be moving over by 1 and appear to remain
	# constant
change_color:
	li	$t0, 1
	sb	$t0, 0($a2)

move_stone_right_end:
	# --------
	# Epilogue
	# --------
	lw	$ra, 0($sp)
	lw	$s2, 4($sp)
	lw	$s3, 8($sp)
	lw	$s4, 12($sp)
	addi	$sp, $sp, 12
	
	jr	$ra

#------------------------------------------------------------------------------               
# void move_right(int row, int new_pixel)
#   shit a row across the screen by one pixel. The new pixel is taken from the
#   argument $a1
#
#  Register usages:
#    $s2 = previous
#    $s3 = count
#    $s4 = next
#    $s5 = current row (y value)
#
# arguments: $a0 the row to move, $a1 the pixel to add to the row being shifted
# trashes: $s2 => prev, $s3 => count, $s4 => next, $s5 => current row, $s6 => new pixel color
# returns: none
#------------------------------------------------------------------------------
move_right:

	# --------
	# Prologue
	# --------
	addi	$sp, $sp, -24
	sw	$ra, 0($sp)
	sw	$s2, 4($sp)
	sw	$s3, 8($sp)
	sw	$s4, 12($sp)
	sw	$s5, 16($sp)
	sw	$s6, 20($sp)
	
	move	$s6, $a1	# store the new pixel to be added
	li	$s3, 0		# $s3 is the count variable
	
	move	$a1, $a0	# x's are col's of the LED display
	li	$a0, 0		# y's are row's of the LED display
	jal	_getLED		# _getLED($a0, $a1) => _getLED(int row, int col)
	
	move	$s2, $v0	# store the value of the previous LED
	
	move	$a2, $s6
	jal	_setLED
	
move_right_loop:
	li	$t0, 64
	bge	$s3, $t0, move_right_end	#loop executes while col's < 64
	
	move	$a0, $s3	# col number (x value) = count
				# row number (y value) stays the same
	jal	_getLED		# get the LED at x = count & y = $a1 (which is the row number 
				# from the intial argument)
	
	move	$s4, $v0	# move the LED value into the next variable
	
	move	$a2, $s2	# move the previous LED into the argument list for _setLED
	jal	_setLED		# the coordinates are the same from the past call of _getLED
				# except this time we are setting it not saving it
	move	$s2, $s4	# previous = next
	addi	$s3, $s3, 1	# add 1 to the current column
	
	j	move_right_loop	# loop executes while column number is < 64
	
move_right_end:
	# --------
	# Epilogue
	# --------
	lw	$ra, 0($sp)
	lw	$s2, 4($sp)
	lw	$s3, 8($sp)
	lw	$s4, 12($sp)
	lw	$s5, 16($sp)
	lw	$s6, 20($sp)
	addi	$sp, $sp, 24
	
	jr	$ra

#------------------------------------------------------------------------------               
# void move_frog()
#   the frog gets redrawn based on it's top left corner. To move the frog,
#   adjust the top left corner by changing $s0 and $s1 to the new location
#
# arguments: none
# trashes: none
# returns: none
#------------------------------------------------------------------------------
move_frog:

	# --------
	# Prologue
	# --------
	addi	$sp, $sp, -8
	sw	$ra, 0($sp)

	#move	$a0, $s0
	#li	$v0, 1
	#3syscall
	
	#move	$a0, $s1
	#syscall

	addi	$a0, $s0, 0	# (x, y) = green
	addi	$a1, $s1, 0
	addi	$a2, $0,  3
	jal	_setLED
	
	addi	$a0, $s0, 1	# (x + 1, y) = green 
	addi	$a1, $s1, 0
	addi	$a2, $0,  3
	jal	_setLED
	
	addi	$a0, $s0, 1 	# (x + 1, y + 1) = green
	addi	$a1, $s1, 1
	addi	$a2, $0,  3
	jal	_setLED
	
	addi	$a0, $s0, 0	# (x, y + 1) = green
	addi	$a1, $s1, 1
	addi	$a2, $0,  3
	jal	_setLED	
			
	# --------
	# Epilogue
	# --------
	lw	$ra, 0($sp)
	addi	$sp, $sp, 8
	
	jr	$ra
#------------------------------------------------------------------------------               
# void draw_field()
#   draws the playing field represented by the array memory location
#   
# arguments: none
# trashes: $t0
# returns: none
#------------------------------------------------------------------------------
draw_field:
	# --------
	# Prologue
	# --------
	addi	$sp, $sp, -12
	sw	$ra, 0($sp)
	sw	$s0, 4($sp)
	sw	$s1, 8($sp)

	li	$s0, 0	
rows:
	li	$s1, 0
cols:
	
	move	$a0, $s0
	move	$a1, $s1
	jal	address_in_array_of
	
	move	$a0, $s1
	move	$a1, $s0
	
	move	$a2, $v0
	jal	_setLED
	
	addi $s1, $s1, 1		# change the column
	
	slti $t0, $s1, 64		# THIS VALUE MUST BE CHANGED TO:
						# number of columns in array
	bne $t0, $zero, cols
	
	addi $s0, $s0, 1		# change the row
	slti $t0, $s0, 64		# THIS VALUE MUST BE CHANGED TO:
						# number of rows in array
	bne $t0, $zero, rows
		
	#---------
	# Epilogue
	#---------
	lw	$s1, 8($sp)
	lw	$s0, 4($sp)
	lw	$ra, 0($sp)
	addi	$sp, $sp, 12
	jr	$ra			# Return
	
#------------------------------------------------------------------------------
# int address_in_array_of(int x, int y)
#   returns the value of the array at the location (x, y)
#
#  warning:   x and y are assumed to be legal values (0-7,0-7)
#  arguments: $a0 holds x, $a1 holds y
#  trashes:   $t0-$t3
#  returns:   $v0 holds the value maze at the position
#------------------------------------------------------------------------------
address_in_array_of:
	la	$t0, array
	
	sll	$a0, $a0, 6	# THIS VALUE MUST BE CHANGED TO: 
				#	   	log2(number_of_array_columns)
	
	add 	$v0, $a0, $a1
	
	add 	$v0, $v0, $t0

	lb	$v0, 0($v0)
	jr   	$ra
	
	
	#y * 16 bytes + (x / 4)
	
#------------------------------------------------------------------------------
# void _setLED(int x, int y, int color)
#   sets the LED at (x,y) to color
#   color: 0=off, 1=red, 2=orange, 3=green
#
# warning:   x, y and color are assumed to be legal values (0-63,0-63,0-3)
# arguments: $a0 is x, $a1 is y, $a2 is color 
# trashes:   $t0-$t3
# returns:   none
#------------------------------------------------------------------------------
_setLED:
	# byte offset into display = y * 16 bytes + (x / 4)
	sll	$t0,$a1,4      # y * 16 bytes
	srl	$t1,$a0,2      # x / 4
	add	$t0,$t0,$t1    # byte offset into display
	li	$t2,0xffff0008	# base address of LED display
	add	$t0,$t2,$t0    # address of byte with the LED
	# now, compute led position in the byte and the mask for it
	andi	$t1,$a0,0x3    # remainder is led position in byte
	neg	$t1,$t1        # negate position for subtraction
	addi	$t1,$t1,3      # bit positions in reverse order
	sll	$t1,$t1,1      # led is 2 bits
	# compute two masks: one to clear field, one to set new color
	li	$t2,3		
	sllv	$t2,$t2,$t1
	not	$t2,$t2        # bit mask for clearing current color
	sllv	$t1,$a2,$t1    # bit mask for setting color
	# get current LED value, set the new field, store it back to LED
	lbu	$t3,0($t0)     # read current LED value	
	and	$t3,$t3,$t2    # clear the field for the color
	or	$t3,$t3,$t1    # set color field
	sb	$t3,0($t0)     # update display
	jr	$ra

#------------------------------------------------------------------------------
# int _getLED(int x, int y)
#   returns the value of the LED at position (x,y)
#
#  warning:   x and y are assumed to be legal values (0-63,0-63)
#  arguments: $a0 holds x, $a1 holds y
#  trashes:   $t0-$t2
#  returns:   $v0 holds the value of the LED (0, 1, 2, 3)
#------------------------------------------------------------------------------
_getLED:
	# byte offset into display = y * 16 bytes + (x / 4)
	sll  $t0,$a1,4      # y * 16 bytes
	srl  $t1,$a0,2      # x / 4
	add  $t0,$t0,$t1    # byte offset into display
	la   $t2,0xffff0008
	add  $t0,$t2,$t0    # address of byte with the LED
	# now, compute bit position in the byte and the mask for it
	andi $t1,$a0,0x3    # remainder is bit position in byte
	neg  $t1,$t1        # negate position for subtraction
	addi $t1,$t1,3      # bit positions in reverse order
    	sll  $t1,$t1,1      # led is 2 bits
	# load LED value, get the desired bit in the loaded byte
	lbu  $t2,0($t0)
	srlv $t2,$t2,$t1    # shift LED value to lsb position
	andi $v0,$t2,0x3    # mask off any remaining upper bits
	jr   $ra


#------------------------------------------------------------------------------
# int _getKeyPress(void)
#	returns the key last pressed, unless there is none
#
# trashes: $t0-$t1
# returns in $v0:
#	0	No key pressed
# 	0x42	Middle button pressed
# 	0xE0	Up arrow 
# 	0xE1	Down arrow 
# 	0xE2	Left arrow 
# 	0xE3 	Right arrow
#------------------------------------------------------------------------------
_getKeyPress:
	la	$t1, 0xffff0000			# status register
	li	$v0, 0				# default to no key pressed
	lw	$t0, 0($t1)			# load the status
	beq	$t0, $zero, _keypress_return	# no key pressed, return
	lw	$v0, 4($t1)			# read the key pressed
_keypress_return:
	jr $ra
